import React, { useState } from "react";
import { useTodo } from "../contexts/todoContext";

function Todo() {
  const [todo, setTodo] = useState("");
  const { addTodo } = useTodo();

  const add = (e) => {
    e.preventDefault();
    if (!todo) return;
    addTodo({ todo });
    setTodo("");
  };

  return (
    <form className="flex" onSubmit={add}>
      <input
        className="bg-white py-2 px-1.5 rounded-l-lg outline-none font-bold"
        type="text"
        onChange={(e) => setTodo(e.target.value)}
        value={todo}
        placeholder="Type here"
      />
      <button className="bg-[#6046CA]  rounded-r-lg " type="submit">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="40"
          height="22"
          viewBox="0 0 22 22"
          fill="none"
        >
          <path
            d="M18.4892 8.46084L5.65582 3.16251C5.17024 2.96156 4.63725 2.90396 4.11995 2.99651C3.60265 3.08906 3.1227 3.3279 2.73692 3.68475C2.35114 4.0416 2.07568 4.50151 1.94316 5.01004C1.81064 5.51857 1.8266 6.05443 1.98916 6.55417L3.40082 11L1.95249 15.4458C1.78554 15.9476 1.76678 16.4868 1.89847 16.9989C2.03016 17.5111 2.30671 17.9744 2.69499 18.3333C3.19424 18.7963 3.8475 19.0576 4.52832 19.0667C4.89016 19.0664 5.24839 18.9948 5.58249 18.8558L18.4617 13.5575C18.9632 13.3489 19.3918 12.9964 19.6933 12.5445C19.9948 12.0926 20.1557 11.5616 20.1557 11.0183C20.1557 10.4751 19.9948 9.94405 19.6933 9.49215C19.3918 9.04026 18.9632 8.68777 18.4617 8.47917L18.4892 8.46084ZM4.91332 17.1417C4.75162 17.2084 4.57421 17.2274 4.40204 17.1966C4.22987 17.1657 4.07012 17.0862 3.94166 16.9675C3.82064 16.8519 3.7336 16.7053 3.68997 16.5437C3.64634 16.3821 3.64779 16.2117 3.69416 16.0508L5.03249 11.9167H17.6183L4.91332 17.1417ZM5.03249 10.0833L3.66665 5.98584C3.62029 5.82501 3.61884 5.65456 3.66247 5.49296C3.7061 5.33137 3.79314 5.18481 3.91415 5.06917C4.00042 4.97868 4.10428 4.90678 4.21936 4.85791C4.33444 4.80905 4.4583 4.78423 4.58332 4.78501C4.7062 4.78524 4.82777 4.81018 4.94082 4.85834L17.6183 10.0833H5.03249Z"
            fill="black"
          />
        </svg>
      </button>
    </form>
  );
}

export default Todo;
